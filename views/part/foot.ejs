<footer>
  <div class="container">
    <div class="text-center text-white p-2">
      Â© 2020 Copyright: Codehubvn.com
    </div>
  </div>
</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
crossorigin="anonymous"></script>

<!-- Firebase -->

<!-- Firebase App (the core Firebase SDK) is always required and must be listed first -->
<script src="https://www.gstatic.com/firebasejs/8.7.1/firebase-app.js"></script>

<!-- If you enabled Analytics in your project, add the Firebase SDK for Analytics -->
<script src="https://www.gstatic.com/firebasejs/8.7.1/firebase-analytics.js"></script>

<!-- Add Firebase products that you want to use -->
<script src="https://www.gstatic.com/firebasejs/8.7.1/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.7.1/firebase-firestore.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.7.1/firebase-storage.js"></script>

<script>
    // Your web app's Firebase configuration
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    var firebaseConfig = {
    apiKey: "AIzaSyCDfxUnzndLfCGAZfSfBQ4kFGYxetEsz2c",
    authDomain: "codehubvn.firebaseapp.com",
    projectId: "codehubvn",
    storageBucket: "codehubvn.appspot.com",
    messagingSenderId: "383165045388",
    appId: "1:383165045388:web:9cb01c6c15830a5402f9a9",
    measurementId: "G-JMWQXQ0LNB"
    };
    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);
    firebase.analytics();

    const db = firebase.firestore();

</script>


<script>
    function validateEmail(email) {
      const re = /^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
      return re.test(email);
    }
</script>

<script>
    async function initUser(user) {
      var metaRef = db.collection("metadata").doc("users");
      metaRef.get().then(doc => {
        const lastId = doc.data().lastId;
        const newId = lastId + 1;
        metaRef.set({lastId: newId});

        var userRef = db.collection("users").doc(user.email);
        userRef.set({
          id: newId,
          current: {
            normal: 0,
            hard: 0
          },
          answer: {
            normal: [],
            hard: []
          },
          paid: {
            normal: false,
            hard: false
          }
        }).then(() => console.log("Init user ", newId));
      });
    }
</script>